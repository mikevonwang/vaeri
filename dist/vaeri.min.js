"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vaeri=function(){function e(){_classCallCheck(this,e),this.state={},this.dom={}}return _createClass(e,[{key:"start",value:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){if(e.getDOM){var t=e.getDOM(),n={};Object.keys(t).forEach(function(s){"string"==typeof t[s]?n[s]=document.querySelector(t[s]):n[s]=new VaeriElementArray(e,s,t[s],document.querySelectorAll(t[s]))}),e.dom=n}if(e.setListeners){var s=e.setListeners();Object.keys(s).forEach(function(t){e.dom[t]&&(void 0===e.dom[t].length?s[t].forEach(function(n){e.dom[t].addEventListener(n[0],n[1].bind(e,e.dom[t],void 0))}):(e.dom[t].listen(s[t]),e.dom[t].forEach(function(n,i){s[t].forEach(function(t){n.addEventListener(t[0],t[1].bind(e,n,i))})})))})}e.onMount&&e.onMount()})}},{key:"doAction",value:function(e,t){var n=Object.assign({},this.state,t);this[e]&&this[e].call(this,this.state,n),this.state=n}}]),e}();function VaeriElementArray(e,t,n,s){var i=this;s.forEach(function(e){i.push(e)}),this.key=t,this.selector=n,this.listeners=null,this.bound_listeners=null,this.listen=function(e){i.listeners=e,i.bound_listeners=i.listeners.map(function(e){return[]})},this.populate=function(){i.length=0,document.querySelectorAll(i.selector).forEach(function(t,n){i.push(t),i.listeners&&(i.bound_listeners[n]=[],i.listeners.forEach(function(s,r){i.bound_listeners[n][r]=s[1].bind(e,t,n),t.addEventListener(s[0],i.bound_listeners[n][r])}))})},this.delete=function(t){i.forEach(function(e,t){i.listeners&&i.listeners.forEach(function(n,s){e.removeEventListener(n[0],i.bound_listeners[t][s])})}),i.splice(t,1),i.listeners&&i.bound_listeners.splice(t,1),i.forEach(function(t,n){i.listeners&&i.listeners.forEach(function(s,r){i.bound_listeners[n][r]=s[1].bind(e,t,n),t.addEventListener(s[0],i.bound_listeners[n][r])})})}}VaeriElementArray.prototype=Array.prototype;
//# sourceMappingURL=vaeri.min.js.map
