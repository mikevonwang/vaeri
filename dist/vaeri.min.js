"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vaeri=function(){function e(){_classCallCheck(this,e),this.state={},this.dom={},this.start()}return _createClass(e,[{key:"start",value:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){if(e.getDOM){var t=e.getDOM(),n={};Object.keys(t).forEach(function(r){"string"==typeof t[r]?n[r]=document.querySelector(t[r]):n[r]=new VaeriElementArray(e,r,t[r],document.querySelectorAll(t[r]))}),e.dom=n}if(e.setListeners){var r=e.setListeners();Object.keys(r).forEach(function(t){e.dom[t]&&(void 0===e.dom[t].length?r[t].forEach(function(n){e.dom[t].addEventListener(n[0],n[1].bind(e,e.dom[t],void 0))}):(e.dom[t].listen(r[t]),e.dom[t].forEach(function(n,i){r[t].forEach(function(t){n.addEventListener(t[0],t[1].bind(e,n,i))})})))})}e.onMount&&e.onMount()})}},{key:"doAction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.state=Object.assign({},this.state,t),this[e]){var r;(r=this[e]).call.apply(r,[this].concat(_toConsumableArray(n)))}}}]),e}();function VaeriElementArray(e,t,n,r){var i=this;r.forEach(function(e){i.push(e)}),this.key=t,this.selector=n,this.listeners=null,this.bound_listeners=null,this.listen=function(e){i.listeners=e,i.bound_listeners=i.listeners.map(function(e){return[]})},this.populate=function(){var t=i.length;document.querySelectorAll(i.selector).forEach(function(n,r){r>=t&&(i.push(n),i.listeners&&(i.bound_listeners[r]=[],i.listeners.forEach(function(t,s){i.bound_listeners[r][s]=t[1].bind(e,n,r),n.addEventListener(t[0],i.bound_listeners[r][s])})))})},this.delete=function(t){i.forEach(function(e,t){i.listeners&&i.listeners.forEach(function(n,r){e.removeEventListener(n[0],i.bound_listeners[t][r])})}),i.splice(t,1),i.listeners&&i.bound_listeners.splice(t,1),i.forEach(function(t,n){i.listeners&&i.listeners.forEach(function(r,s){i.bound_listeners[n][s]=r[1].bind(e,t,n),t.addEventListener(r[0],i.bound_listeners[n][s])})})}}VaeriElementArray.prototype=Array.prototype;
//# sourceMappingURL=vaeri.min.js.map
