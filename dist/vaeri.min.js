"use strict";var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vaeri=function(){function e(){_classCallCheck(this,e),this.state={},this.dom={},this.start()}return _createClass(e,[{key:"start",value:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){if(e.getDOM&&(e.dom=e.processDOM(e.getDOM(),document)),e.setListeners){var t=e.setListeners();Object.keys(t).forEach(function(r){e.dom[r]&&(void 0===e.dom[r].length?t[r].forEach(function(t){e.dom[r].addEventListener(t[0],function(n){t[1].call(e,n,e.dom[r],void 0)})}):(e.dom[r].listen(t[r]),e.dom[r].forEach(function(n,i){t[r].forEach(function(t){n.addEventListener(t[0],function(r){t[1].call(e,r,n,i)})})})))})}e.onMount&&e.onMount()})}},{key:"processDOM",value:function(e,t){var r=this,n={};return Object.keys(e).forEach(function(i){var a=t.vaeri_ref?t.vaeri_ref:document,s=e[i][0],o=e[i][1];if("string"==typeof s){var c=(t.vaeri_selector?t.vaeri_selector+" ":"")+s;n[i]=new VaeriElement(r,a,c),o&&Object.assign(n[i],r.processDOM(o,n[i]))}else{var l=(t.vaeri_selector?t.vaeri_selector+" ":"")+s[0];n[i]=new VaeriElementArray(r,a,l),o&&n[i].forEach(function(e){Object.assign(e,r.processDOM(o,e))})}}),n}},{key:"doAction",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.state=Object.assign({},this.state,t),this[e]){var n;(n=this[e]).call.apply(n,[this].concat(_toConsumableArray(r)))}}}]),e}();function VaeriElement(e,t,r,n){this.vaeri_ref=n||t.querySelector(r),this.vaeri_selector=r,this.addEventListener=this.vaeri_ref.addEventListener,this.classList=this.vaeri_ref.classList,this.getAttribute=this.vaeri_ref.getAttribute,this.setAttribute=this.vaeri_ref.setAttribute}function VaeriElementArray(e,t,r){var n=this;t.querySelectorAll(r).forEach(function(t){n.push(new VaeriElement(e,null,r,t))})}VaeriElementArray.prototype=Array.prototype;
//# sourceMappingURL=vaeri.min.js.map
